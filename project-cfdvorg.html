<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Project: cfdv.org | Jody Hamilton</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="sites/default/files/jodyhamilton_favicon.jpg" type="image/x-icon" />
	<meta name = "description" content = "Jody Hamilton: drupal web development, songs, and various ravings" />
    <link type="text/css" rel="stylesheet" media="all" href="sites/jodyhamilton.net/modules/codefilter/codefilter.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/aggregator/aggregator.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/node/node.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/system/defaults.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/system/system.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/system/system-menus.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/user/user.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="sites/all/modules/lightbox2/css/lightbox.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="modules/comment/comment.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="sites/all/themes/jodyhamilton/style.css%3Fu.css" />
<link type="text/css" rel="stylesheet" media="all" href="sites/all/modules/tagadelic/tagadelic.css%3Fu.css" />
    <script type="text/javascript" src="misc/jquery.js%3Fu"></script>
<script type="text/javascript" src="misc/drupal.js%3Fu"></script>
<script type="text/javascript" src="sites/all/modules/lightbox2/js/image_nodes.js%3Fu"></script>
<script type="text/javascript" src="sites/all/modules/lightbox2/js/lightbox.js%3Fu"></script>
<script type="text/javascript" src="modules/comment/comment.js%3Fu"></script>
<script type="text/javascript" src="misc/textarea.js%3Fu"></script>
<script type="text/javascript">jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackDownload": "pdf|zip|mp3", "LegacyVersion": 0 }, "lightbox2": { "rtl": 0, "file_path": "/(\\w\\w/)sites/jodyhamilton.net/files", "default_image": "/sites/all/modules/lightbox2/images/brokenimage.jpg", "display_image_size": "", "overlay_opacity": "0.6", "use_alt_layout": false, "disable_zoom": false, "force_show_nav": false, "image_node_sizes": "(\\.thumbnail)", "trigger_image_classes": "img.inline,img.flickr-photo-img,img.flickr-photoset-img,img.image-img_assist_custom,img.thumbnail, img.image-thumbnail", "group_images": true, "disable_for_gallery_lists": true, "disable_for_acidfree_gallery_lists": true, "node_link_text": "View Image Details", "node_link_target": false, "image_count": "Image !current of !total", "lite_press_x_close": "press \x3ca href=\"#\" onclick=\"hideLightbox(); return false;\"\x3e\x3ckbd\x3ex\x3c/kbd\x3e\x3c/a\x3e to close" } });</script>
    <!--[if lt IE 7]>
      <link type="text/css" rel="stylesheet" media="all" href="/sites/all/themes/jodyhamilton/fix-ie.css" />    <![endif]-->
  </head>
  <body>

<!-- Layout -->

    <div id="wrapper">
     <div id="header">
        <h1><a href="index.html" title="Jody Hamilton"><span>Jody Hamilton</span></a></h1>      </div> <!-- /header -->

      <div id ="menu">
		        <ul class="links primary-links"><li class="menu-172 first"><a href="about.html" title="About">About</a></li>

<li class="menu-215 last"><a href="featured-project.html" title="">Projects</a></li>
</ul>                                </div>

      <div id="main"><div id="main-top"><div id="main-bottom">
          <div class="breadcrumb"><a href="index.html">Home</a></div>                              <h2>Project: cfdv.org</h2>                                                  <div class="clear-block">
            <div id="node-16" class="node clear-block">



  <div class="meta">
      <span class="submitted">Submitted by jody on February 3, 2008 - 2:08pm</span>
  
      <div class="terms"><ul class="links inline"><li class="taxonomy_term_4 first"><a href="drupal.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_9"><a href="featured-project.html" rel="tag" title="">featured project</a></li>
<li class="taxonomy_term_8 last"><a href="jquery.html" rel="tag" title="">jquery</a></li>
</ul></div>
    </div>

  <div class="content">
    <p><a href="http://cfdv.org" rel="nofollow">CFDV.org</a> is the website for the <em>The Chromatography Forum of Delaware Valley</em>.  Chromatography is a discipline of chemistry which is used to separate mixtures for analysis.  For example, when your aspirin is tested to be 99.7% pure that was determined with chromatography by an analytical chemist.  Likewise when your urine is tested to contain marijuana that was also determined by chromatography.  Chromatography is a complex science and is used extensively in the pharmaceutical industry- an industry which has a large presence in the Delaware Valley.  The Chromatography Forum is an independent organization which educates and unites scientists who are interested in this field.</p>

<p>I got the opportunity to build the CFDV website through my work friendships in chemistry (I was a chromatographer before learning web development).  It was my first freelance project and was built in Fall &#8216;06 prior to my involvement with <a href="http://drupal.org" rel="nofollow">Drupal</a>.  Fortunately I convinced the forum to have me rebuild the site more recently in Drupal 5.  In rebuilding the site (which previously had a homemade CMS) in Drupal, there was almost no change visible to the casual visitor but the site&#8217;s administration became streamlined and best of all the site&#8217;s potential for new functionality is extremely enhanced.  </p>

<p>The site makes extensive use of the <a href="http://drupal.org/project/date" rel="nofollow">Date API</a> and does some interesting things with dates and menus.  When you click on <a href="http://cfdv.org/meetings" rel="nofollow">&#8216;meetings&#8217;</a> it takes you to the next upcoming meeting and names it by the month it occurs.  <a href="http://cfdv.org/meetings/previous" rel="nofollow">&#8216;Previous meetings&#8217;</a> uses the nice integration between date and views modules to give a very specific range and sorting of meeting nodes (the forum uses a September - June year which complicated the problem).  </p>

<p>The site also takes reservations and payments by paypal for both meetings and courses.  The meeting reservation form is just a fancy <a href="http://drupal.org/project/cck" rel="nofollow">cck</a> type.  It passes the node id of a meeting as an argument to the node/add/registration page, and uses that to add relevant information and populate the meal choice.  Then I used a lot of hook_form_alter and some jquery to further refine the form (it dynamically shows more fieldsets for additional guests in your party).  I created a custom <a href="http://drupal.org/project/actions" rel="nofollow">action</a> to send the reservation to the CFDV administrator as well as the guest.  I used <a href="http://drupal.org/project/lm_paypal" rel="nofollow">lm_paypal module</a> to integrate the site with paypal and allow the guests the option to pay online after reservation.</p>

<p>The course registration system is more complex than the meeting reservations, so for this I opted to create a custom multistep form using the Drupal Form API instead of relying on cck.  If you&#8217;ve made it this far in this article you might already know what a hassle it is to make multistep forms in Drupal 5. You finish everything and then the client would like the form to have a back button (which I don&#8217;t think is really possible in the current API).   The beauty of the course registration form is that its options are automatically created by the existing content of the course nodes on the site.  All the courses and their options and prices and early-bird discounts already existed on the site as course nodes and with this wily form and my inherent fear of redundant data I made form magic come alive.  (Other than being able to change the text at the top of the form, there is no maintenance required for this form at all.)  I did some jquery work on the checkboxes on the form, so that only sensible combinations of box-checking can occur (checkbox wizardry).  I also made the completed form save its data into an unpublished node for future reference.  Then I hacked lm_paypal so that this new node&#8217;s id would be passed to paypal as an item number.  Then when payment is completed and the item number is returned by paypal&#8217;s IPN, an action is fired to email the site administrator the contents of the saved node.  Actually the most interesting thing about this form is that it is actually working!  Next time though I might look into <a href="http://drupal.org/project/simple_paypal" rel="nofollow">Simple Paypal Framework</a> as well as lm_paypal module, to compare features.</p>

<p>It&#8217;s nice to work at enhancing this site and see its role with the organization evolve.  There is quite a bit more use I can see the organization getting out of this site with future functionalities.  Drupal sites can be much more than what you might traditionally think of as a website and also serve as software to automate things you may have been doing manually in your organization.  I like the idea that a website is not one more thing an organization has to deal with updating but actually a tool that simplifies their workflow.  I think that the custom forms I made for this site do exactly that, and that there is a lot of potential for this site in the future to serve as an online community for this group of scientists.</p>
  </div>

  </div><div id="comments">
  <h2>Comments</h2>
  <div class="box">


  <div class="content"><form action="comment/reply/16.html"  accept-charset="UTF-8" method="post" id="comment-form">
<div><div class="form-item" id="edit-name-wrapper">
 <label for="edit-name">Your name: </label>
 <input type="text" maxlength="60" name="name" id="edit-name" size="30" value="Anonymous" class="form-text" />
</div>
<div class="form-item" id="edit-mail-wrapper">
 <label for="edit-mail">E-mail: </label>
 <input type="text" maxlength="64" name="mail" id="edit-mail" size="30" value="" class="form-text" />
 <div class="description">The content of this field is kept private and will not be shown publicly.</div>
</div>
<div class="form-item" id="edit-homepage-wrapper">
 <label for="edit-homepage">Homepage: </label>
 <input type="text" maxlength="255" name="homepage" id="edit-homepage" size="30" value="" class="form-text" />
</div>
<div class="form-item" id="edit-comment-wrapper">
 <label for="edit-comment">Comment: <span class="form-required" title="This field is required.">*</span></label>
 <textarea cols="60" rows="15" name="comment" id="edit-comment"  class="form-textarea resizable required"></textarea>
</div>
<ul class="tips"><li>Web page addresses and e-mail addresses turn into links automatically.</li><li>Allowed HTML tags: &lt;a&gt; &lt;em&gt; &lt;strong&gt; &lt;cite&gt; &lt;code&gt; &lt;ul&gt; &lt;ol&gt; &lt;li&gt; &lt;dl&gt; &lt;dt&gt; &lt;dd&gt;</li><li>Lines and paragraphs break automatically.</li><li>You may post code using &lt;code&gt;...&lt;/code&gt; (generic) or &lt;?php ... ?&gt; (highlighted PHP) tags.</li><li>You can use <a href="filter/tips.html">Markdown syntax</a> to format and style the text. Also see and <a href="http://michelf.com/projects/php-markdown/extra/">Markdown Extra</a> for tables, footnotes, and more.</li></ul><p><a href="filter/tips.html">More information about formatting options</a></p><input type="hidden" name="form_build_id" id="form-f2fd3814169d3924676f2a411bf906a6" value="form-f2fd3814169d3924676f2a411bf906a6"  />
<input type="hidden" name="form_id" id="edit-comment-form" value="comment_form"  />
<input type="submit" name="op" id="edit-submit" value="Save"  class="form-submit" />
<input type="submit" name="op" id="edit-preview" value="Preview"  class="form-submit" />

</div></form>
</div>
</div>
</div>
          </div>
          
      </div></div></div>

        <div id="sidebar-right">
          <!-- <div class="block block-theme"><form action="/project-cfdvorg"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div id="search" class="container-inline">
  <div class="form-item" id="edit-search-theme-form-1-wrapper">
 <label for="edit-search-theme-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit-2" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-17981d64af2d251b623eb7719ac104e2" value="form-17981d64af2d251b623eb7719ac104e2"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
</div>

</div></form>
</div> -->
          <div id="block-tagadelic-1" class="block block-tagadelic">

  <div class="content">
    <a href="amateur-philosophy.html" class="tagadelic level2">amateur philosophy</a> 
<a href="business.html" class="tagadelic level1">business</a> 
<a href="comics.html" class="tagadelic level2">comics</a> 
<a href="downloads.html" class="tagadelic level4">downloads</a> 
<a href="drupal.html" class="tagadelic level6">drupal</a> 
<a href="featured-project.html" class="tagadelic level3">featured project</a> 
<a href="taxonomy/term/14.html" class="tagadelic level1">firefox</a> 
<a href="jody-hamiltons.html" class="tagadelic level2">jody hamiltons</a> 
<a href="jquery.html" class="tagadelic level3">jquery</a> 
<a href="lullabot.html" class="tagadelic level2">lullabot</a> 
<a href="music.html" class="tagadelic level6">music</a> 
<a href="ravings.html" class="tagadelic level1">ravings</a> 
<a href="rifle-nice.html" class="tagadelic level4">rifle nice</a> 
<a href="theming.html" class="tagadelic level2">theming</a> 
<a href="zivtech.html" class="tagadelic level1">zivtech</a> 
<div class='more-link'><a href="tagadelic/chunk/1.html">more tags</a></div>  </div>
</div>
<div id="block-search-0" class="block block-search">

  <div class="content">
    <form action="project-cfdvorg.html"  accept-charset="UTF-8" method="post" id="search-block-form">
<div><div class="container-inline">
  <div class="form-item" id="edit-search-block-form-1-wrapper">
 <label for="edit-search-block-form-1">Search this site: </label>
 <input type="text" maxlength="128" name="search_block_form" id="edit-search-block-form-1" size="10" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit-1" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-131ddf89ea5593075920894d4633c2db" value="form-131ddf89ea5593075920894d4633c2db"  />
<input type="hidden" name="form_id" id="edit-search-block-form" value="search_block_form"  />
</div>

</div></form>
  </div>
</div>
<div id="block-aggregator-feed-3" class="block block-aggregator">
  <h2>My Work Blog</h2>

  <div class="content">
    <div class="item-list"><ul><li class="first"><a href="http://www.zivtech.com/blog/zivtech-welcomes-new-creative-director">Zivtech welcomes new Creative Director</a>
</li>
<li class="last"><a href="http://www.zivtech.com/blog/use-cck-link-and-filefields-redirects-legacy-content">Use CCK link and filefields as redirects to legacy content</a>
</li>
</ul></div><div class="more-link"><a href="aggregator/sources/3.html" title="View this feed&#039;s recent news.">more</a></div>  </div>
</div>
        </div>
       	        <div id="footer"><div id="block-block-2" class="block block-block">

  <div class="content">
    <p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a><a href="http://jigsaw.w3.org/css-validator/"><img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" /></a></p>
  </div>
</div>
<div id="block-system-0" class="block block-system">

  <div class="content">
    <a href="http://drupal.org"><img src="misc/powered-blue-80x15.png" alt="Powered by Drupal, an open source content management system" title="Powered by Drupal, an open source content management system" width="80" height="15" /></a>  </div>
</div>
</div>
  </div>
<!-- /layout -->

  <script type="text/javascript">document.write(unescape("%3Cscript src='http://www.google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script>
<script type="text/javascript">var pageTracker = _gat._getTracker("UA-3465262-1");pageTracker._initData();pageTracker._trackPageview();</script>
<script type="text/javascript" src="sites/all/modules/google-analytics/downloadtracker.js%3Fu"></script>
  </body>
</html>
